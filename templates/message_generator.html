<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Custom Order Message Generator — ETSAI</title>
    <meta name="description" content="Generate a ready-to-paste custom order message template for your Etsy buyers. Enter what you sell and get a professional spec-collection message in seconds.">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'><ellipse cx='12' cy='22' rx='9' ry='5' transform='rotate(-25 12 22)' fill='%235c7d52'/><ellipse cx='20' cy='27' rx='10' ry='7' fill='%234a6741'/><ellipse cx='23' cy='29' rx='7' ry='5' fill='%23f4845f'/><circle cx='27' cy='15' r='9' fill='%234a6741'/><path d='M35 13L48 11.5L35 16.5Z' fill='%23d4846a'/><circle cx='31' cy='13' r='3' fill='white'/><circle cx='32' cy='13' r='1.8' fill='%232c1810'/><circle cx='32.5' cy='12' r='0.7' fill='white'/><path d='M8 31L3 38L7 34L4 41L9 33' fill='%233d5a37'/></svg>">
    <script>
      if (localStorage.getItem('theme') === 'dark' || (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches)) { document.documentElement.classList.add('dark'); }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: { extend: {
          fontFamily: { sans: ['Inter', 'system-ui', 'sans-serif'], display: ['DM Serif Display', 'Georgia', 'serif'] },
          colors: {
            forest: { 400: '#5c7d52', 500: '#4a6741', 600: '#3d5a37' },
            sage: { 400: '#8fa382', 500: '#7a8c6e' },
            cream: { 50: '#f5efe4', 100: '#ebe3d4', 200: '#dfd4c4' },
            bark: { 800: '#292524', 900: '#1c1917' },
          }
        }}
      }
    </script>
    <style>
        :root {
            --surface-0: #fdf9f3; --surface-1: #f5efe4; --surface-2: #ebe3d4; --surface-3: #dfd4c4;
            --text-primary: #2c1810; --text-secondary: #78716c; --text-tertiary: #a8a29e;
            --border-default: #d5c8b4; --border-subtle: #e6dbd0;
            --brand: #4a6741; --brand-light: #5c7d52; --brand-lighter: #7a9b6f;
            --error: #dc2626; --error-bg: rgba(220, 38, 38, 0.08);
        }
        html.dark {
            --surface-0: #1c1917; --surface-1: #171412; --surface-2: #292524; --surface-3: #3b3532;
            --text-primary: #ede6df; --text-secondary: #b5a898; --text-tertiary: #78716c;
            --border-default: #3b3532; --border-subtle: #292524;
            --brand: #6b9460; --brand-light: #8aaf7e; --brand-lighter: #a8c89e;
            --error: #f87171; --error-bg: rgba(220, 38, 38, 0.12);
        }
        body { background: var(--surface-1); color: var(--text-primary); transition: background 0.3s, color 0.3s; }

        /* Animated gradient mesh background */
        .gradient-mesh {
            position: fixed; inset: 0; z-index: -1; overflow: hidden;
            pointer-events: none;
        }
        .gradient-blob {
            position: absolute;
            filter: blur(80px); will-change: transform;
            opacity: 0.4;
        }
        html.dark .gradient-blob { opacity: 0.18; }
        .blob-1 {
            width: 700px; height: 250px; top: -5%; right: -5%;
            background: radial-gradient(ellipse, #f4845f 0%, transparent 70%);
            clip-path: polygon(0% 40%, 15% 10%, 45% 0%, 75% 12%, 100% 5%, 100% 55%, 85% 100%, 55% 80%, 25% 95%, 0% 70%);
            animation: drift1 26s ease-in-out infinite;
        }
        .blob-2 {
            width: 250px; height: 600px; top: 20%; left: -5%;
            background: radial-gradient(ellipse, #fbb98c 0%, transparent 70%);
            clip-path: polygon(30% 0%, 75% 5%, 100% 25%, 80% 55%, 100% 80%, 65% 100%, 35% 92%, 0% 100%, 15% 55%, 0% 18%);
            opacity: 0.35;
            animation: drift2 22s ease-in-out infinite;
        }
        html.dark .blob-2 { opacity: 0.15; }
        .blob-3 {
            width: 650px; height: 200px; bottom: 5%; right: 5%;
            background: radial-gradient(ellipse, #e07a5f 0%, transparent 70%);
            clip-path: polygon(8% 0%, 35% 8%, 100% 25%, 92% 55%, 100% 88%, 60% 100%, 22% 85%, 0% 60%, 5% 28%);
            opacity: 0.3;
            animation: drift3 28s ease-in-out infinite;
        }
        html.dark .blob-3 { opacity: 0.12; }
        .blob-4 {
            width: 350px; height: 350px; top: 5%; left: 15%;
            background: radial-gradient(ellipse, #ffd5c2 0%, transparent 70%);
            clip-path: polygon(0% 22%, 28% 0%, 72% 8%, 100% 38%, 82% 78%, 100% 100%, 52% 92%, 0% 100%, 12% 52%);
            opacity: 0.3;
            animation: drift4 24s ease-in-out infinite;
        }
        html.dark .blob-4 { opacity: 0.12; }
        .blob-5 {
            width: 600px; height: 200px; bottom: 15%; left: -8%;
            background: radial-gradient(ellipse, #d4846a 0%, transparent 70%);
            clip-path: polygon(0% 12%, 38% 0%, 100% 18%, 92% 48%, 100% 82%, 68% 100%, 32% 95%, 0% 72%);
            opacity: 0.3;
            animation: drift5 30s ease-in-out infinite;
        }
        html.dark .blob-5 { opacity: 0.12; }

        @keyframes drift1 {
            0%, 100% { transform: rotate(-12deg) translate(0, 0) scale(1); }
            33% { transform: rotate(-8deg) translate(-40px, 30px) scale(1.05); }
            66% { transform: rotate(-16deg) translate(20px, -20px) scale(0.95); }
        }
        @keyframes drift2 {
            0%, 100% { transform: rotate(18deg) translate(0, 0) scale(1); }
            33% { transform: rotate(22deg) translate(30px, -20px) scale(1.08); }
            66% { transform: rotate(14deg) translate(-15px, 25px) scale(0.92); }
        }
        @keyframes drift3 {
            0%, 100% { transform: rotate(-22deg) translate(0, 0) scale(1); }
            33% { transform: rotate(-18deg) translate(-30px, -20px) scale(1.03); }
            66% { transform: rotate(-26deg) translate(25px, 15px) scale(0.97); }
        }
        @keyframes drift4 {
            0%, 100% { transform: rotate(8deg) translate(0, 0) scale(1); }
            33% { transform: rotate(12deg) translate(20px, 15px) scale(1.06); }
            66% { transform: rotate(4deg) translate(-15px, -20px) scale(0.94); }
        }
        @keyframes drift5 {
            0%, 100% { transform: rotate(-18deg) translate(0, 0) scale(1); }
            33% { transform: rotate(-14deg) translate(15px, -25px) scale(1.04); }
            66% { transform: rotate(-22deg) translate(-25px, 10px) scale(0.96); }
        }
        @keyframes humFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }
        @media (prefers-reduced-motion: reduce) {
            .gradient-blob, [style*="humFloat"] { animation: none !important; }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(16px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-in { animation: fadeInUp 0.6s ease forwards; opacity: 0; }
        .delay-1 { animation-delay: 0.1s; }
        .delay-2 { animation-delay: 0.2s; }
        .delay-3 { animation-delay: 0.3s; }

        .gradient-text {
            background: linear-gradient(135deg, var(--brand) 0%, var(--brand-light) 50%, var(--brand-lighter) 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
        }
        /* Chamfered button shape */
        .btn-primary, button[type="submit"] {
            clip-path: polygon(10px 0%, calc(100% - 10px) 0%, 100% 10px, 100% calc(100% - 10px), calc(100% - 10px) 100%, 10px 100%, 0% calc(100% - 10px), 0% 10px);
        }
        .btn-primary {
            background: linear-gradient(135deg, #4a6741, #5c7d52);
            color: white; border: none; cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            filter: drop-shadow(0 2px 6px rgba(74, 103, 65, 0.3));
            border-radius: 0;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            filter: brightness(1.05) drop-shadow(0 4px 10px rgba(74, 103, 65, 0.35));
        }
        .btn-primary:active { transform: translateY(0); filter: brightness(0.97) drop-shadow(0 2px 4px rgba(74, 103, 65, 0.3)); }

        /* Glassmorphism cards — chamfered octagonal */
        .glass-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 0;
            clip-path: polygon(14px 0%, calc(100% - 14px) 0%, 100% 14px, 100% calc(100% - 14px), calc(100% - 14px) 100%, 14px 100%, 0% calc(100% - 14px), 0% 14px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            filter: drop-shadow(0 4px 16px rgba(44, 24, 16, 0.06)) drop-shadow(0 12px 48px rgba(44, 24, 16, 0.06));
        }
        html.dark .glass-card {
            background: rgba(28, 25, 23, 0.65);
            border-color: rgba(255, 255, 255, 0.06);
            filter: drop-shadow(0 4px 16px rgba(0, 0, 0, 0.3)) drop-shadow(0 12px 48px rgba(0, 0, 0, 0.2));
        }

        /* Glassmorphism nav */
        .home-nav {
            backdrop-filter: blur(24px) saturate(1.8); -webkit-backdrop-filter: blur(24px) saturate(1.8);
            background: rgba(245, 239, 228, 0.6);
            border-color: var(--border-default);
        }
        html.dark .home-nav {
            background: rgba(28, 25, 23, 0.6);
        }

        .flash { border-left: 4px solid; border-radius: 12px; font-size: 0.875rem; animation: fadeInUp 0.3s ease; }
        .flash.error { background: var(--error-bg); color: var(--error); border-left-color: var(--error); }
        .flash.success { background: rgba(122,140,110,0.1); color: #7a8c6e; border-left-color: #7a8c6e; }
        html.dark .flash.error { background: var(--error-bg); }
        html.dark .flash.success { background: rgba(122,140,110,0.12); }

        input:focus { outline: none; border-color: var(--brand); box-shadow: 0 0 0 3px rgba(74,103,65,0.12); }
        html.dark input { background: var(--surface-2); border-color: var(--surface-3); color: var(--text-primary); }
        html.dark input:focus { border-color: var(--brand); box-shadow: 0 0 0 3px rgba(107,148,96,0.15); }

        /* Result pre block */
        .result-pre {
            white-space: pre-wrap; word-wrap: break-word;
            font-family: 'SF Mono', 'Fira Code', 'Fira Mono', 'Roboto Mono', monospace;
            font-size: 0.8125rem; line-height: 1.7;
            padding: 1.5rem;
            background: var(--surface-2);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            color: var(--text-primary);
            max-height: 500px;
            overflow-y: auto;
        }
        html.dark .result-pre {
            background: var(--surface-2);
            border-color: var(--border-default);
        }

        /* Secondary button style */
        .btn-secondary {
            background: var(--surface-2);
            color: var(--text-primary);
            border: none; cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            clip-path: polygon(10px 0%, calc(100% - 10px) 0%, 100% 10px, 100% calc(100% - 10px), calc(100% - 10px) 100%, 10px 100%, 0% calc(100% - 10px), 0% 10px);
            border-radius: 0;
        }
        .btn-secondary:hover {
            filter: brightness(0.95);
        }
    </style>
</head>
<body class="font-sans min-h-screen">
    <!-- Animated gradient mesh background -->
    <div class="gradient-mesh" aria-hidden="true">
        <div class="gradient-blob blob-1"></div>
        <div class="gradient-blob blob-2"></div>
        <div class="gradient-blob blob-3"></div>
        <div class="gradient-blob blob-4"></div>
        <div class="gradient-blob blob-5"></div>
    </div>

    <!-- Top bar -->
    <nav class="home-nav fixed top-0 left-0 right-0 z-50 border-b">
        <div class="max-w-5xl mx-auto px-6 h-14 flex items-center justify-between">
            <a href="/" class="flex items-center gap-1.5 text-xl font-extrabold tracking-tight no-underline" style="color: var(--text-primary);"><svg class="w-6 h-6" viewBox="0 0 48 48" fill="none"><ellipse cx="12" cy="22" rx="9" ry="5" transform="rotate(-25 12 22)" fill="#5c7d52"/><ellipse cx="20" cy="27" rx="10" ry="7" fill="#4a6741"/><ellipse cx="23" cy="29" rx="7" ry="5" fill="#f4845f"/><circle cx="27" cy="15" r="9" fill="#4a6741"/><path d="M35 13L48 11.5L35 16.5Z" fill="#d4846a"/><circle cx="31" cy="13" r="3" fill="white"/><circle cx="32" cy="13" r="1.8" fill="#2c1810"/><circle cx="32.5" cy="12" r="0.7" fill="white"/><path d="M8 31L3 38L7 34L4 41L9 33" fill="#3d5a37"/></svg><span>ETS<span class="gradient-text">AI</span></span></a>
            <div class="flex items-center gap-5">
                <a href="/tools/message-generator" class="hidden md:inline text-sm font-medium no-underline transition-colors" style="color: var(--brand);">Message Generator</a>
                <button onclick="toggleDarkMode()" class="p-2 rounded-lg transition-colors" style="color: var(--text-tertiary);" aria-label="Toggle dark mode">
                    <svg class="w-4.5 h-4.5 hidden dark:block" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
                    <svg class="w-4.5 h-4.5 block dark:hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/></svg>
                </button>
                <a href="/#auth" class="text-sm font-semibold no-underline transition-colors" style="color: var(--brand);">Log In</a>
            </div>
        </div>
    </nav>

    <div class="max-w-5xl mx-auto px-6 pt-24 pb-16 relative">

        {% with messages = get_flashed_messages(with_categories=true) %}
        {% for category, message in messages %}
        <div class="flash {{ category }} px-4 py-3 mb-5">{{ message }}</div>
        {% endfor %}
        {% endwith %}

        {% if result is none %}
        <!-- Initial state: form -->
        <div class="text-center mb-12 relative animate-in">
            <div class="mx-auto mb-6" style="width: 72px; height: 72px; animation: humFloat 3s ease-in-out infinite;">
                <svg viewBox="0 0 48 48" fill="none" style="width: 100%; height: 100%; filter: drop-shadow(0 4px 12px rgba(74, 103, 65, 0.2));">
                    <ellipse cx="12" cy="22" rx="9" ry="5" transform="rotate(-25 12 22)" fill="#5c7d52"/>
                    <ellipse cx="20" cy="27" rx="10" ry="7" fill="#4a6741"/>
                    <ellipse cx="23" cy="29" rx="7" ry="5" fill="#f4845f"/>
                    <circle cx="27" cy="15" r="9" fill="#4a6741"/>
                    <path d="M35 13L48 11.5L35 16.5Z" fill="#d4846a"/>
                    <circle cx="31" cy="13" r="3" fill="white"/>
                    <circle cx="32" cy="13" r="1.8" fill="#2c1810"/>
                    <circle cx="32.5" cy="12" r="0.7" fill="white"/>
                    <path d="M8 31L3 38L7 34L4 41L9 33" fill="#3d5a37"/>
                </svg>
            </div>
            <p class="text-sm font-semibold tracking-wide uppercase mb-4" style="color: var(--brand);">Free Tool</p>
            <h1 class="font-display text-4xl md:text-5xl mb-5 leading-tight" style="color: var(--text-primary);">
                Custom Order Message<br>Generator
            </h1>
            <p class="text-lg max-w-2xl mx-auto leading-relaxed" style="color: var(--text-secondary);">
                Enter what you sell, get a ready-to-paste message template for collecting specs from your Etsy buyers.
            </p>
        </div>

        <div class="glass-card max-w-lg mx-auto p-8 animate-in delay-1">
            <form action="/tools/message-generator" method="POST" class="space-y-5">
                <input type="hidden" name="_csrf_token" value="{{ csrf_token() }}">
                <div>
                    <label for="product_type" class="block text-sm font-semibold mb-2" style="color: var(--text-primary);">What custom product do you sell?</label>
                    <input type="text" id="product_type" name="product_type" required
                        placeholder="e.g. Custom engraved rings, Pet portraits, Wood signs..."
                        class="w-full px-4 py-3 rounded-xl text-sm transition-all"
                        style="background: var(--surface-2); border: 1px solid var(--border-default); color: var(--text-primary);">
                </div>
                <button type="submit" class="btn-primary w-full py-3 text-sm font-semibold">
                    Generate My Template
                </button>
                <p class="text-center text-xs" style="color: var(--text-tertiary);">Free. No account needed.</p>
            </form>
        </div>

        <!-- Soft CTA below form -->
        <div class="text-center mt-16 animate-in delay-2">
            <p class="text-sm" style="color: var(--text-secondary);">
                Want more than a template? <a href="/#auth" class="font-semibold no-underline" style="color: var(--brand);">Try ETSAI free</a> -- AI chat that collects specs automatically.
            </p>
        </div>

        {% else %}
        <!-- Result state -->
        <div class="text-center mb-10 relative animate-in">
            <h1 class="font-display text-3xl md:text-4xl mb-3 leading-tight" style="color: var(--text-primary);">
                Your Custom Order Message Template
            </h1>
            <p class="text-base" style="color: var(--text-secondary);">For: <span class="font-semibold" style="color: var(--text-primary);">{{ product_type }}</span></p>
        </div>

        <div class="glass-card max-w-2xl mx-auto p-8 animate-in delay-1">
            <pre id="result-text" class="result-pre mb-5">{{ result }}</pre>
            <div class="flex items-center gap-3">
                <button onclick="copyResult()" class="btn-primary px-6 py-2.5 text-sm font-semibold">
                    Copy to Clipboard
                </button>
                <span id="copied-feedback" class="text-sm font-medium transition-opacity opacity-0" style="color: var(--brand);">Copied!</span>
            </div>
        </div>

        <!-- CTA section -->
        <div class="glass-card max-w-2xl mx-auto mt-8 p-8 text-center animate-in delay-2">
            <h2 class="font-display text-2xl mb-3" style="color: var(--text-primary);">Want to automate this completely?</h2>
            <p class="text-sm leading-relaxed mb-6 max-w-md mx-auto" style="color: var(--text-secondary);">
                ETSAI uses AI chat to collect every spec from your buyers automatically. No copy-pasting. No back-and-forth.
            </p>
            <a href="/#auth" class="btn-primary px-8 py-3 text-sm font-semibold inline-block no-underline">
                Start Free — 14 Day Trial
            </a>
        </div>

        <!-- Generate another link -->
        <div class="text-center mt-8 animate-in delay-3">
            <a href="/tools/message-generator" class="text-sm font-medium no-underline transition-colors" style="color: var(--brand);" onmouseover="this.style.color='var(--brand-light)'" onmouseout="this.style.color='var(--brand)'">
                &larr; Generate another template
            </a>
        </div>
        {% endif %}

        <!-- Footer -->
        <footer class="text-center mt-20 pt-8 border-t animate-in delay-3" style="border-color: var(--border-default);">
            <a href="/" class="flex items-center justify-center gap-1.5 text-lg font-extrabold tracking-tight no-underline" style="color: var(--text-primary);"><svg class="w-5 h-5" viewBox="0 0 48 48" fill="none"><ellipse cx="12" cy="22" rx="9" ry="5" transform="rotate(-25 12 22)" fill="#5c7d52"/><ellipse cx="20" cy="27" rx="10" ry="7" fill="#4a6741"/><ellipse cx="23" cy="29" rx="7" ry="5" fill="#f4845f"/><circle cx="27" cy="15" r="9" fill="#4a6741"/><path d="M35 13L48 11.5L35 16.5Z" fill="#d4846a"/><circle cx="31" cy="13" r="3" fill="white"/><circle cx="32" cy="13" r="1.8" fill="#2c1810"/><circle cx="32.5" cy="12" r="0.7" fill="white"/><path d="M8 31L3 38L7 34L4 41L9 33" fill="#3d5a37"/></svg><span>ETS<span class="gradient-text">AI</span></span></a>
            <p class="text-xs mt-2 mb-2" style="color: var(--text-tertiary);">Your AI assistant for custom orders</p>
            <div class="flex justify-center gap-4 mb-2">
                <a href="/privacy" class="text-xs no-underline transition-colors" style="color: var(--text-tertiary);" onmouseover="this.style.color='var(--brand)'" onmouseout="this.style.color='var(--text-tertiary)'">Privacy</a>
                <a href="/terms" class="text-xs no-underline transition-colors" style="color: var(--text-tertiary);" onmouseover="this.style.color='var(--brand)'" onmouseout="this.style.color='var(--text-tertiary)'">Terms</a>
                <a href="/support" class="text-xs no-underline transition-colors" style="color: var(--text-tertiary);" onmouseover="this.style.color='var(--brand)'" onmouseout="this.style.color='var(--text-tertiary)'">Support</a>
            </div>
            <p class="text-xs" style="color: var(--text-tertiary);">Not affiliated with Etsy, Inc.</p>
        </footer>
    </div>

    <script>
        function toggleDarkMode() {
            document.documentElement.classList.toggle('dark');
            localStorage.setItem('theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light');
        }

        function copyResult() {
            const text = document.getElementById('result-text').textContent;
            navigator.clipboard.writeText(text).then(function() {
                const feedback = document.getElementById('copied-feedback');
                feedback.style.opacity = '1';
                setTimeout(function() {
                    feedback.style.opacity = '0';
                }, 2000);
            }).catch(function() {
                // Fallback for older browsers
                const range = document.createRange();
                range.selectNodeContents(document.getElementById('result-text'));
                const selection = window.getSelection();
                selection.removeAllRanges();
                selection.addRange(range);
                document.execCommand('copy');
                selection.removeAllRanges();
                const feedback = document.getElementById('copied-feedback');
                feedback.style.opacity = '1';
                setTimeout(function() {
                    feedback.style.opacity = '0';
                }, 2000);
            });
        }
    </script>
</body>
</html>
